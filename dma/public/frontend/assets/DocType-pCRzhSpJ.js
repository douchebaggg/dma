import{g as T,c as S,b as V,n as O,o as x,p as b,m as w,q as R,r as E,t as M,I as B,i as j,j as q,k as A,v as F,w as G}from"./index-Bobjm90n.js";import{d as L,a as d,w as W,b as C,l as k,n as a,G as o,q as l,t as s,D as g,C as n,L as y,F as D,S as h,I,j as N}from"./frappe-ui-CYJxxotI.js";const H={class:"m-4"},J={key:0,class:"ion-padding",slot:"content"},K={class:"ml-5"},U={key:1,class:"ion-padding",slot:"content"},$={key:0,class:"ion-padding",slot:"content"},z={class:"ml-5"},Q={key:1,class:"ion-padding",slot:"content"},X=L({__name:"ListDoctype",setup(P){const{db:p}=T(),c=d([]),f=d([]);d(["Testing Doctype","Sales Order"]);const r=d(c.value[0]);d();const v=async m=>{const e=await p.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});c.value=e.map(i=>i.name);const t=await p.getDocList("Sales Order",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});f.value=t.map(i=>i.name)};W(r,m=>{v(),console.log(r.value)}),C(()=>{v(r.value)});const _=()=>{document.querySelectorAll("ion-popover").forEach(m=>m.dismiss())};return(m,e)=>(a(),k(o(S),null,{default:l(()=>[s(o(B),{fullscreen:!0},{default:l(()=>[g("div",H,[s(o(V),{class:"mb-2 rounded-xl border-0 shadow-xs"},{default:l(()=>[s(o(O),{class:"m-4"},{default:l(()=>[s(o(x),{class:"rounded-xl",value:"first"},{default:l(()=>[s(o(b),{slot:"header",lines:"none"},{default:l(()=>[s(o(w),null,{default:l(()=>e[1]||(e[1]=[y("Basket Doctype")])),_:1})]),_:1}),c.value.length>0?(a(),n("div",J,[g("ul",null,[(a(!0),n(D,null,h(c.value,t=>(a(),n("li",K,I(t),1))),256))])])):(a(),n("div",U,e[2]||(e[2]=[g("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),s(o(x),{class:"rounded-xl",value:"second"},{default:l(()=>[s(o(b),{slot:"header",lines:"none"},{default:l(()=>[s(o(w),null,{default:l(()=>e[3]||(e[3]=[y("Pallet")])),_:1})]),_:1}),f.value.length>0?(a(),n("div",$,[g("ul",null,[(a(!0),n(D,null,h(f.value,t=>(a(),n("li",z,[s(o(R),{"label-placement":"end",justify:"start"},{default:l(()=>[y(I(t),1)]),_:2},1024)]))),256))])])):(a(),n("div",Q,e[4]||(e[4]=[g("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),s(o(E),{"aria-label":"Doctype",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),interface:"popover",placeholder:"Select Basket Doctype",fill:"outline",onIonChange:_},{default:l(()=>[(a(!0),n(D,null,h(c.value,t=>(a(),k(o(M),{key:t,value:t},{default:l(()=>[y(I(t),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1}))}}),Y=N(X,[["__scopeId","data-v-e9b47314"]]),Z=L({__name:"DocType",setup(P){C(()=>{m(),r()});const p=d(null),c=d(null),{db:f}=T();d("");const r=async()=>{const e=await f.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});let t=null;for(const i of e){const u=await f.getDoc("Testing Doctype",i.name);if(u.items&&u.items.length>0?(t=i.name,p.value=u.items):(t=i.name,p.value=u.idx),u.item_code&&u.item_code.length>0){c.value=u.item_code;break}}t?console.log("List all Docname",e,t):console.log("No document found")},v=async e=>{try{await r(),setTimeout(()=>{e.detail.complete()},2e3)}catch(t){console.error("Error refreshing user data:",t)}},_=d(window.matchMedia("(prefers-color-scheme: dark)").matches),m=()=>{const e=localStorage.getItem("darkMode");e!==null&&(_.value=JSON.parse(e),console.log(_.value),document.documentElement.classList.toggle("ion-palette-dark",_.value))};return(e,t)=>(a(),k(o(S),null,{default:l(()=>[s(o(j),null,{default:l(()=>[s(o(q),null,{default:l(()=>[s(o(A),{class:"ion-text-center"},{default:l(()=>t[0]||(t[0]=[y("รายการเอกสารทั้งหมด")])),_:1})]),_:1})]),_:1}),s(o(B),{fullscreen:!0},{default:l(()=>[s(o(F),{slot:"fixed",onIonRefresh:v},{default:l(()=>[s(o(G),{"pulling-text":"Pull to refresh","refreshing-spinner":"dots","refreshing-text":"Refreshing..."})]),_:1}),s(Y,{class:"mt-32"})]),_:1})]),_:1}))}}),oe=N(Z,[["__scopeId","data-v-7c27b5f3"]]);export{oe as default};
//# sourceMappingURL=DocType-pCRzhSpJ.js.map
