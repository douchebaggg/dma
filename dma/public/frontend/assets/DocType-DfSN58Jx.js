import{f as B,b as T,k as P,l as b,m as k,n as x,o as V,p as R,q as O,d as j,c as q,e as A,I as w,h as E,i as F,j as G,r as M,t as W}from"./index-CP_e6oHI.js";import{d as L,a as i,w as H,b as S,l as I,n,G as e,q as o,t,D as p,au as K,C as d,L as _,F as D,S as v,I as h,j as C}from"./frappe-ui-6fMRsAZb.js";const U={class:"m-4"},$={key:0,class:"ion-padding bg-gray-50",slot:"content"},z={class:"ml-5"},J={key:1,class:"ion-padding bg-gray-50",slot:"content"},Q={key:0,class:"ion-padding bg-gray-50",slot:"content"},X={class:"ml-5"},Y={key:1,class:"ion-padding bg-gray-50",slot:"content"},Z={class:"m-4"},ee=L({__name:"ListDoctype",setup(N){const{db:m}=B(),c=i([]),f=i([]);i(["Testing Doctype","Sales Order"]);const r=i(c.value[0]);i();const y=async l=>{const s=await m.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});c.value=s.map(g=>g.name);const a=await m.getDocList("Sales Order",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});f.value=a.map(g=>g.name)};H(r,l=>{y(),console.log(r.value)}),S(()=>{y(r.value)});const u=()=>{document.querySelectorAll("ion-popover").forEach(l=>l.dismiss())};return(l,s)=>(n(),I(e(T),null,{default:o(()=>[t(e(w),{fullscreen:!0},{default:o(()=>[p("div",U,[t(e(K),{class:"mb-2 rounded-xl border-0 shadow-xs"},{default:o(()=>[t(e(P),{class:"m-4"},{default:o(()=>[t(e(b),{class:"rounded-xl",value:"first"},{default:o(()=>[t(e(k),{slot:"header",lines:"none"},{default:o(()=>[t(e(x),null,{default:o(()=>s[1]||(s[1]=[_("Basket Doctype")])),_:1})]),_:1}),c.value.length>0?(n(),d("div",$,[p("ul",null,[(n(!0),d(D,null,v(c.value,a=>(n(),d("li",z,h(a),1))),256))])])):(n(),d("div",J,s[2]||(s[2]=[p("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),t(e(b),{class:"rounded-xl",value:"second"},{default:o(()=>[t(e(k),{slot:"header",lines:"none"},{default:o(()=>[t(e(x),null,{default:o(()=>s[3]||(s[3]=[_("Pallet")])),_:1})]),_:1}),f.value.length>0?(n(),d("div",Q,[p("ul",null,[(n(!0),d(D,null,v(f.value,a=>(n(),d("li",X,[t(e(V),{"label-placement":"end",justify:"start"},{default:o(()=>[_(h(a),1)]),_:2},1024)]))),256))])])):(n(),d("div",Y,s[4]||(s[4]=[p("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),t(e(R),{"aria-label":"Doctype",modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),interface:"popover",placeholder:"Select Basket Doctype",fill:"outline",onIonChange:u},{default:o(()=>[(n(!0),d(D,null,v(c.value,a=>(n(),I(e(O),{key:a,value:a},{default:o(()=>[_(h(a),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),p("div",Z,[t(e(j),{datetime:"date"}),t(e(q),{"keep-contents-mounted":!0},{default:o(()=>[t(e(A),{presentation:"date",id:"date"})]),_:1})])]),_:1})])]),_:1})]),_:1}))}}),te=C(ee,[["__scopeId","data-v-2b9f8a17"]]),oe=L({__name:"DocType",setup(N){S(()=>{r()});const m=i(null),c=i(null),{db:f}=B();i("");const r=async()=>{const u=await f.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});let l=null;for(const s of u){const a=await f.getDoc("Testing Doctype",s.name);if(a.items&&a.items.length>0?(l=s.name,m.value=a.items):(l=s.name,m.value=a.idx),a.item_code&&a.item_code.length>0){c.value=a.item_code;break}}l?console.log("List all Docname",u,l):console.log("No document found")},y=async u=>{try{await r(),setTimeout(()=>{u.detail.complete()},2e3)}catch(l){console.error("Error refreshing user data:",l)}};return(u,l)=>(n(),I(e(T),null,{default:o(()=>[t(e(E),null,{default:o(()=>[t(e(F),null,{default:o(()=>[t(e(G),{class:"ion-text-center"},{default:o(()=>l[0]||(l[0]=[_("รายการเอกสารทั้งหมด")])),_:1})]),_:1})]),_:1}),t(e(w),{fullscreen:!0},{default:o(()=>[t(e(M),{slot:"fixed",onIonRefresh:y},{default:o(()=>[t(e(W),{"pulling-text":"Pull to refresh","refreshing-spinner":"dots","refreshing-text":"Refreshing..."})]),_:1}),t(te,{class:"mt-32"})]),_:1})]),_:1}))}}),le=C(oe,[["__scopeId","data-v-a7e1002a"]]);export{le as default};
//# sourceMappingURL=DocType-DfSN58Jx.js.map
