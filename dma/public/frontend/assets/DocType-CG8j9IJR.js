const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-DheUPRyw.js","assets/index-BmCyWIqS.js","assets/frappe-ui-DoeaObP-.js","assets/frappe-ui-DdMgwa7d.css","assets/index-B-UuoOzm.css"])))=>i.map(i=>d[i]);
import{m as X,k as Y,l as Z,j as N,i as ee,r as ce,t as K,c as G,v as z,w as de,d as ue,e as fe,f as pe,g as ge,h as me,I as te,o as he,p as ye,q as be,x as we,y as ve}from"./index-BmCyWIqS.js";import{d as se,a as C,w as _e,b as ne,l as F,n as b,G as u,q as p,t as f,D as x,au as Pe,C as P,K as I,F as U,S as B,I as R,j as re,_ as Le}from"./frappe-ui-DoeaObP-.js";const ke=N()?`http://${Y}:${Z}`:"http://erp.alzo.io:10580",Ce=()=>{const s=new X.FrappeApp(ke);return{auth:s.auth(),db:s.db(),call:s.call(),file:s.file()}},Ee={class:"m-4"},De={key:0,class:"ion-padding bg-gray-50",slot:"content"},xe={class:"ml-5"},Oe={key:1,class:"ion-padding bg-gray-50",slot:"content"},Ie={key:0,class:"ion-padding bg-gray-50",slot:"content"},$e={class:"ml-5"},Ae={key:1,class:"ion-padding bg-gray-50",slot:"content"},je={class:"m-4"},Te=se({__name:"ListDoctype",setup(s){const{db:e}=Ce(),t=C([]),o=C([]);C(["Testing Doctype","Sales Order"]);const r=C(t.value[0]);C();const n=async c=>{const a=await e.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});t.value=a.map(y=>y.name);const i=await e.getDocList("Sales Order",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});o.value=i.map(y=>y.name)};_e(r,c=>{n(),console.log(r.value)}),ne(()=>{n(r.value)});const d=()=>{document.querySelectorAll("ion-popover").forEach(c=>c.dismiss())};return(c,a)=>(b(),F(u(ee),null,{default:p(()=>[f(u(te),{fullscreen:!0},{default:p(()=>[x("div",Ee,[f(u(Pe),{class:"mb-2 rounded-xl border-0 shadow-xs"},{default:p(()=>[f(u(ce),{class:"m-4"},{default:p(()=>[f(u(K),{class:"rounded-xl",value:"first"},{default:p(()=>[f(u(G),{slot:"header",lines:"none"},{default:p(()=>[f(u(z),null,{default:p(()=>a[1]||(a[1]=[I("Basket Doctype")])),_:1})]),_:1}),t.value.length>0?(b(),P("div",De,[x("ul",null,[(b(!0),P(U,null,B(t.value,i=>(b(),P("li",xe,R(i),1))),256))])])):(b(),P("div",Oe,a[2]||(a[2]=[x("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),f(u(K),{class:"rounded-xl",value:"second"},{default:p(()=>[f(u(G),{slot:"header",lines:"none"},{default:p(()=>[f(u(z),null,{default:p(()=>a[3]||(a[3]=[I("Pallet")])),_:1})]),_:1}),o.value.length>0?(b(),P("div",Ie,[x("ul",null,[(b(!0),P(U,null,B(o.value,i=>(b(),P("li",$e,[f(u(de),{"label-placement":"end",justify:"start"},{default:p(()=>[I(R(i),1)]),_:2},1024)]))),256))])])):(b(),P("div",Ae,a[4]||(a[4]=[x("p",{class:"ml-5"},"No Document found",-1)])))]),_:1}),f(u(ue),{"aria-label":"Doctype",modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=i=>r.value=i),interface:"popover",placeholder:"Select Basket Doctype",fill:"outline",onIonChange:d},{default:p(()=>[(b(!0),P(U,null,B(t.value,i=>(b(),F(u(fe),{key:i,value:i},{default:p(()=>[I(R(i),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),x("div",je,[f(u(pe),{datetime:"date"}),f(u(ge),{"keep-contents-mounted":!0},{default:p(()=>[f(u(me),{presentation:"date",id:"date"})]),_:1})])]),_:1})])]),_:1})]),_:1}))}}),Se=re(Te,[["__scopeId","data-v-2b9f8a17"]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */var O;(function(s){s.Unimplemented="UNIMPLEMENTED",s.Unavailable="UNAVAILABLE"})(O||(O={}));class W extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const Ue=s=>{var e,t;return s?.androidBridge?"android":!((t=(e=s?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Be=s=>{const e=s.CapacitorCustomPlatform||null,t=s.Capacitor||{},o=t.Plugins=t.Plugins||{},r=()=>e!==null?e.name:Ue(s),n=()=>r()!=="web",d=l=>{const g=i.get(l);return!!(g?.platforms.has(r())||c(l))},c=l=>{var g;return(g=t.PluginHeaders)===null||g===void 0?void 0:g.find($=>$.name===l)},a=l=>s.console.error(l),i=new Map,y=(l,g={})=>{const $=i.get(l);if($)return console.warn(`Capacitor plugin "${l}" already registered. Cannot register plugins twice.`),$.proxy;const E=r(),D=c(l);let _;const ae=async()=>(!_&&E in g?_=typeof g[E]=="function"?_=await g[E]():_=g[E]:e!==null&&!_&&"web"in g&&(_=typeof g.web=="function"?_=await g.web():_=g.web),_),ie=(m,h)=>{var v,L;if(D){const k=D?.methods.find(w=>h===w.name);if(k)return k.rtype==="promise"?w=>t.nativePromise(l,h.toString(),w):(w,A)=>t.nativeCallback(l,h.toString(),w,A);if(m)return(v=m[h])===null||v===void 0?void 0:v.bind(m)}else{if(m)return(L=m[h])===null||L===void 0?void 0:L.bind(m);throw new W(`"${l}" plugin is not implemented on ${E}`,O.Unimplemented)}},T=m=>{let h;const v=(...L)=>{const k=ae().then(w=>{const A=ie(w,m);if(A){const j=A(...L);return h=j?.remove,j}else throw new W(`"${l}.${m}()" is not implemented on ${E}`,O.Unimplemented)});return m==="addListener"&&(k.remove=async()=>h()),k};return v.toString=()=>`${m.toString()}() { [capacitor code] }`,Object.defineProperty(v,"name",{value:m,writable:!1,configurable:!1}),v},M=T("addListener"),V=T("removeListener"),le=(m,h)=>{const v=M({eventName:m},h),L=async()=>{const w=await v;V({eventName:m,callbackId:w},h)},k=new Promise(w=>v.then(()=>w({remove:L})));return k.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await L()},k},S=new Proxy({},{get(m,h){switch(h){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?le:M;case"removeListener":return V;default:return T(h)}}});return o[l]=S,i.set(l,{name:l,proxy:S,platforms:new Set([...Object.keys(g),...D?[E]:[]])}),S};return t.convertFileSrc||(t.convertFileSrc=l=>l),t.getPlatform=r,t.handleError=a,t.isNativePlatform=n,t.isPluginAvailable=d,t.registerPlugin=y,t.Exception=W,t.DEBUG=!!t.DEBUG,t.isLoggingEnabled=!!t.isLoggingEnabled,t},Re=s=>s.Capacitor=Be(s),H=Re(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),q=H.registerPlugin;class oe{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),o&&this.sendRetainedArgumentsForEvent(e);const d=async()=>this.removeListener(e,t);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,o){const r=this.listeners[e];if(!r){if(o){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}r.forEach(n=>n(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new H.Exception(e,O.Unimplemented)}unavailable(e="not available"){return new H.Exception(e,O.Unavailable)}async removeListener(e,t){const o=this.listeners[e];if(!o)return;const r=o.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(o=>{this.notifyListeners(e,o)}))}}const J=s=>encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Q=s=>s.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class We extends oe{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[r,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Q(r).trim(),n=Q(n).trim(),t[r]=n}),t}async setCookie(e){try{const t=J(e.key),o=J(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),d=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${r}; path=${n}; ${d};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}q("CapacitorCookies",{web:()=>new We});const Fe=async s=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{const r=o.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>t(r),o.readAsDataURL(s)}),He=(s={})=>{const e=Object.keys(s);return Object.keys(s).map(r=>r.toLocaleLowerCase()).reduce((r,n,d)=>(r[n]=s[e[d]],r),{})},qe=(s,e=!0)=>s?Object.entries(s).reduce((o,r)=>{const[n,d]=r;let c,a;return Array.isArray(d)?(a="",d.forEach(i=>{c=e?encodeURIComponent(i):i,a+=`${n}=${c}&`}),a.slice(0,-1)):(c=e?encodeURIComponent(d):d,a=`${n}=${c}`),`${o}&${a}`},"").substr(1):null,Me=(s,e={})=>{const t=Object.assign({method:s.method||"GET",headers:s.headers},e),r=He(s.headers)["content-type"]||"";if(typeof s.data=="string")t.body=s.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[d,c]of Object.entries(s.data||{}))n.set(d,c);t.body=n.toString()}else if(r.includes("multipart/form-data")||s.data instanceof FormData){const n=new FormData;if(s.data instanceof FormData)s.data.forEach((c,a)=>{n.append(a,c)});else for(const c of Object.keys(s.data))n.append(c,s.data[c]);t.body=n;const d=new Headers(t.headers);d.delete("content-type"),t.headers=d}else(r.includes("application/json")||typeof s.data=="object")&&(t.body=JSON.stringify(s.data));return t};class Ve extends oe{async request(e){const t=Me(e,e.webFetchExtra),o=qe(e.params,e.shouldEncodeUrlParams),r=o?`${e.url}?${o}`:e.url,n=await fetch(r,t),d=n.headers.get("content-type")||"";let{responseType:c="text"}=n.ok?e:{};d.includes("application/json")&&(c="json");let a,i;switch(c){case"arraybuffer":case"blob":i=await n.blob(),a=await Fe(i);break;case"json":a=await n.json();break;case"document":case"text":default:a=await n.text()}const y={};return n.headers.forEach((l,g)=>{y[g]=l}),{data:a,headers:y,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}q("CapacitorHttp",{web:()=>new Ve});q("Browser",{web:()=>Le(()=>import("./web-DheUPRyw.js"),__vite__mapDeps([0,1,2,3,4])).then(s=>new s.BrowserWeb)});const Ke=se({__name:"DocType",setup(s){ne(()=>{d()});const e=N()?`http://${Y}:${Z}`:"http://erp.alzo.io:10580",t=C(null),o=C(null),n=new X.FrappeApp(e).db();C("");const d=async()=>{const a=await n.getDocList("Testing Doctype",{fields:["name","creation"],limit:10,orderBy:{field:"modified",order:"desc"}});let i=null;for(const y of a){const l=await n.getDoc("Testing Doctype",y.name);if(l.items&&l.items.length>0?(i=y.name,t.value=l.items):(i=y.name,t.value=l.idx),l.item_code&&l.item_code.length>0){o.value=l.item_code;break}}i?console.log("List all Docname",a,i):console.log("No document found")},c=async a=>{try{await d(),setTimeout(()=>{a.detail.complete()},2e3)}catch(i){console.error("Error refreshing user data:",i)}};return(a,i)=>(b(),F(u(ee),null,{default:p(()=>[f(u(he),null,{default:p(()=>[f(u(ye),null,{default:p(()=>[f(u(be),{class:"ion-text-center"},{default:p(()=>i[0]||(i[0]=[I("รายการเอกสารทั้งหมด")])),_:1})]),_:1})]),_:1}),f(u(te),{fullscreen:!0},{default:p(()=>[f(u(we),{slot:"fixed",onIonRefresh:c},{default:p(()=>[f(u(ve),{"pulling-text":"Pull to refresh","refreshing-spinner":"dots","refreshing-text":"Refreshing..."})]),_:1}),f(Se,{class:"mt-32"})]),_:1})]),_:1}))}}),Ge=re(Ke,[["__scopeId","data-v-5ca3ddee"]]),Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));export{Qe as D,oe as W};
//# sourceMappingURL=DocType-CG8j9IJR.js.map
