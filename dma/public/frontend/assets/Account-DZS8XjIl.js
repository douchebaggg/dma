import{d as V,i as x,a as A,w as $,b as B,k as d,l as L,n as p,q as s,t,G as e,K as f,I as u,D as o,C as y,ay as z,A as D}from"./frappe-ui-DoeaObP-.js";import{s as N,u as q,j as E,k as K,l as M,m as R,a as T,n as b,o as H,p as P,q as S,I as U,i as F}from"./index-BmCyWIqS.js";import{s as G}from"./devices-DTQCMMyu.js";const O={class:"flex h-full flex-col justify-between"},Z={key:0,class:"m-6 flex flex-col"},J={class:"flex items-center justify-center py-5"},Q={class:"flex-col items-start justify-start ion-margin"},W={key:1,class:"m-6 flex flex-col items-center"},X={class:"flex flex-col items-center justify-center p-4 text-center text-sm text-gray-500"},oe=V({__name:"Account",setup(Y){const m=x(N),l=x(q),v=E()?`http://${K}:${M}`:"http://erp.alzo.io:10580",h=new R.FrappeApp(v).call(),g=A(null),w=async()=>{const i=await h.get("frappe.api.get_app_version");g.value=i.message},{t:n,locale:r}=T(),I=[{label:"English",value:"en"},{label:"ไทย",value:"th"}];$(r,i=>{localStorage.setItem("preferredLanguage",i)}),B(()=>{G(),k(),w()});const k=async()=>{l.data.first_name===""&&(await b.reload(),l.data=b.data)};return(i,a)=>{const C=d("Input"),j=d("Card"),_=d("Button");return p(),L(e(F),null,{default:s(()=>[t(e(H),null,{default:s(()=>[t(e(P),null,{default:s(()=>[t(e(S),{class:"ion-text-center"},{default:s(()=>[f(u(e(n)("account.my_account","My Account")),1)]),_:1})]),_:1})]),_:1}),t(e(U),{fullscreen:!0,"scroll-events":!0},{default:s(()=>[o("div",O,[e(l).data?(p(),y("div",Z,[t(j,{class:"mb-4 rounded-xl"},{default:s(()=>[o("div",J,[t(e(z),{shape:"square",ref_for:!0,size:"xl",class:"bg-gray-200 h-24 w-24",image:`${e(l).data.user_image}?t=${Date.now()}`,label:e(l).data.full_name},null,8,["image","label"])]),o("div",Q,[t(C,{class:"rounded-xl py-2",label:e(n)("preferences.language"),type:"select",options:I,modelValue:e(r),"onUpdate:modelValue":a[0]||(a[0]=c=>D(r)?r.value=c:null),style:{"padding-left":"1rem",outline:"none","background-image":"none",border:"solid 1px grey"}},null,8,["label","modelValue"])])]),_:1}),t(_,{class:"rounded-xl ion-margin-top text-white bg-red-600",variant:"solid",theme:"red",size:"md",onClick:a[1]||(a[1]=c=>e(m).logout.submit())},{default:s(()=>[f(u(e(n)("auth.logout")),1)]),_:1})])):(p(),y("div",W,[t(_,{class:"rounded-2xl ion-margin-top text-white bg-red-600 w-full",variant:"solid",theme:"red",size:"md",onClick:a[2]||(a[2]=c=>e(m).logout.submit())},{default:s(()=>[f(u(e(n)("auth.logout")),1)]),_:1})])),o("footer",X,[a[3]||(a[3]=o("span",null,"ALZO Mobile App",-1)),o("span",null,"Version "+u(g.value),1)])])]),_:1})]),_:1})}}});export{oe as default};
//# sourceMappingURL=Account-DZS8XjIl.js.map
