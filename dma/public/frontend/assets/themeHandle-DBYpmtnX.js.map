{"version":3,"file":"themeHandle-DBYpmtnX.js","sources":["../../../../frontend/src/locales/devices.ts","../../../../frontend/src/utils/themeHandle.ts"],"sourcesContent":["import { useI18n } from \"vue-i18n\"\r\n\r\nexport const setDefaultLanguage = () => {\r\n    const { locale } = useI18n()\r\n    const availableLanguages = [\r\n        { value: \"en\", label: \"English\" },\r\n        { value: \"th\", label: \"Thai\" },\r\n    ]\r\n\tconst deviceLang = navigator.language.split(\"-\")[0]\r\n\tconst savedLang = localStorage.getItem(\"preferredLanguage\")\r\n\tconst defaultLang = savedLang || (availableLanguages.some(lang => lang.value === deviceLang) ? deviceLang : \"en\")\r\n\tlocale.value = defaultLang\r\n\tlocalStorage.setItem(\"preferredLanguage\", defaultLang)\r\n\tconsole.log(locale.value)\r\n\tif(localStorage.getItem(\"preferredLanguage\") === \"th\"){\r\n\t\tlocale.value = \"th\"\r\n\t}\r\n\telse{\r\n\t\tlocale.value= \"en\"\r\n\t}\r\n}\r\n","import { ref } from \"vue\";\r\nexport const DarkMode = ref(window.matchMedia('(prefers-color-scheme: dark)').matches)\r\n\r\nexport const updateThemeColor = () => {\r\n  const themeColor = DarkMode.value ? '#222428' : '#f4f5f6';\r\n  let metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\r\n  if (!metaThemeColor) {\r\n    metaThemeColor = document.createElement('meta');\r\n    metaThemeColor.setAttribute('name', 'theme-color');\r\n    document.head.appendChild(metaThemeColor);\r\n  }\r\n  metaThemeColor.setAttribute('content', themeColor);\r\n};\r\n\r\nexport const setDefaultTheme = () => {\r\n\tconst prefersDarkScheme = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n\t\tif (DarkMode.value = prefersDarkScheme.matches) {\r\n\t\t\tdocument.documentElement.classList.toggle('ion-palette-dark', DarkMode.value);\r\n\t\t\tlocalStorage.setItem(\"darkMode\", JSON.stringify(DarkMode.value))\r\n\t\t} else {\r\n\t\t\tdocument.documentElement.classList.remove('ion-palette-dark');\r\n\t\t\tlocalStorage.setItem(\"darkMode\", JSON.stringify(DarkMode.value))\r\n\t\t}\r\n\t};"],"names":["setDefaultLanguage","locale","useI18n","availableLanguages","deviceLang","defaultLang","lang","DarkMode","ref","updateThemeColor","themeColor","metaThemeColor","setDefaultTheme","prefersDarkScheme"],"mappings":"oFAEO,MAAMA,EAAqB,IAAM,CACpC,KAAM,CAAE,OAAAC,CAAA,EAAWC,EAAA,EACbC,EAAqB,CACvB,CAAE,MAAO,KAAM,MAAO,SAAA,EACtB,CAAE,MAAO,KAAM,MAAO,MAAA,CAAO,EAE9BC,EAAa,UAAU,SAAS,MAAM,GAAG,EAAE,CAAC,EAE5CC,EADY,aAAa,QAAQ,mBAAmB,IACxBF,EAAmB,QAAaG,EAAK,QAAUF,CAAU,EAAIA,EAAa,MAC5GH,EAAO,MAAQI,EACf,aAAa,QAAQ,oBAAqBA,CAAW,EACrD,QAAQ,IAAIJ,EAAO,KAAK,EACrB,aAAa,QAAQ,mBAAmB,IAAM,KAChDA,EAAO,MAAQ,KAGfA,EAAO,MAAO,IAEhB,ECnBaM,EAAWC,EAAI,OAAO,WAAW,8BAA8B,EAAE,OAAO,EAExEC,EAAmB,IAAM,CACpC,MAAMC,EAAaH,EAAS,MAAQ,UAAY,UAChD,IAAII,EAAiB,SAAS,cAAc,0BAA0B,EACjEA,IACHA,EAAiB,SAAS,cAAc,MAAM,EAC9CA,EAAe,aAAa,OAAQ,aAAa,EACjD,SAAS,KAAK,YAAYA,CAAc,GAE1CA,EAAe,aAAa,UAAWD,CAAU,CACnD,EAEaE,EAAkB,IAAM,CACpC,MAAMC,EAAoB,OAAO,WAAW,8BAA8B,GACrEN,EAAS,MAAQM,EAAkB,UACtC,SAAS,gBAAgB,UAAU,OAAO,mBAAoBN,EAAS,KAAK,EAC5E,aAAa,QAAQ,WAAY,KAAK,UAAUA,EAAS,KAAK,CAAC,IAE/D,SAAS,gBAAgB,UAAU,OAAO,kBAAkB,EAC5D,aAAa,QAAQ,WAAY,KAAK,UAAUA,EAAS,KAAK,CAAC,EAEjE"}