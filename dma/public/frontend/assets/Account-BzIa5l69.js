import{d as V,i as _,a as h,b as L,w as A,k as S,l as f,n as i,q as t,t as a,G as e,L as m,I as c,D as n,C as y,ay as B,A as D,R as w}from"./frappe-ui-CYJxxotI.js";import{s as $,u as N,g as E,a as R,h as b,i as T,j as K,k as O,I as q,b as H,l as k,m as J,c as U}from"./index-BhDxa7st.js";import{s as G}from"./devices-BNB6mMDE.js";const P="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M264 480A232 232 0 0132 248c0-94 54-178.28 137.61-214.67a16 16 0 0121.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0121.06 21.06C442.28 426 358 480 264 480z'/></svg>",Z="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 118a22 22 0 01-22-22V48a22 22 0 0144 0v48a22 22 0 01-22 22zM256 486a22 22 0 01-22-22v-48a22 22 0 0144 0v48a22 22 0 01-22 22zM369.14 164.86a22 22 0 01-15.56-37.55l33.94-33.94a22 22 0 0131.11 31.11l-33.94 33.94a21.93 21.93 0 01-15.55 6.44zM108.92 425.08a22 22 0 01-15.55-37.56l33.94-33.94a22 22 0 1131.11 31.11l-33.94 33.94a21.94 21.94 0 01-15.56 6.45zM464 278h-48a22 22 0 010-44h48a22 22 0 010 44zM96 278H48a22 22 0 010-44h48a22 22 0 010 44zM403.08 425.08a21.94 21.94 0 01-15.56-6.45l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.55 37.56zM142.86 164.86a21.89 21.89 0 01-15.55-6.44l-33.94-33.94a22 22 0 0131.11-31.11l33.94 33.94a22 22 0 01-15.56 37.55zM256 358a102 102 0 11102-102 102.12 102.12 0 01-102 102z'/></svg>",F={class:"flex h-full flex-col justify-between"},Q={key:0,class:"m-6 flex flex-col"},W={class:"flex justify-end ion-margin"},X={class:"flex items-center justify-center py-5"},Y={class:"flex-col items-start justify-start ion-margin"},ee={key:1,class:"m-6 flex flex-col items-center"},ae={class:"flex flex-col items-center justify-center p-4 text-center text-sm text-gray-500"},ne=V({__name:"Account",setup(te){const p=_($),r=_(N),{call:I}=E(),v=h(null),M=async()=>{const o=await I.get("frappe.api.get_app_version");v.value=o.message},l=h(window.matchMedia("(prefers-color-scheme: dark)").matches),{t:u,locale:d}=R(),z=[{label:"English",value:"en"},{label:"ไทย",value:"th"}],x=()=>{l.value=!l.value,document.documentElement.classList.toggle("ion-palette-dark",l.value),localStorage.setItem("darkMode",JSON.stringify(l.value))};L(()=>{G(),C(),M();const o=localStorage.getItem("darkMode");o!==null&&(l.value=JSON.parse(o),document.documentElement.classList.toggle("ion-palette-dark",l.value))}),A(d,o=>{localStorage.setItem("preferredLanguage",o)});const C=async()=>{r.data.first_name===""&&(await b.reload(),r.data=b.data)};return(o,s)=>{const j=S("Input");return i(),f(e(U),null,{default:t(()=>[a(e(T),null,{default:t(()=>[a(e(K),null,{default:t(()=>[a(e(O),{class:"ion-text-center"},{default:t(()=>[m(c(e(u)("account.my_account","My Account")),1)]),_:1})]),_:1})]),_:1}),a(e(q),{fullscreen:!0,"scroll-events":!0},{default:t(()=>[n("div",F,[e(r).data?(i(),y("div",Q,[a(e(H),{class:"rounded-xl border-1 dark: border-zinc-500"},{default:t(()=>[n("div",W,[l.value?(i(),f(e(k),{key:0,class:"text-2xl cursor-pointer text-yellow-300",icon:e(P),onClick:x},null,8,["icon"])):(i(),f(e(k),{key:1,class:"text-2xl cursor-pointer text-amber-500",icon:e(Z),onClick:x},null,8,["icon"]))]),n("div",X,[a(e(B),{shape:"square",ref_for:!0,size:"xl",class:"bg-gray-200 h-24 w-24",image:`${e(r).data.user_image}?t=${Date.now()}`,label:e(r).data.full_name},null,8,["image","label"])]),n("div",Y,[a(e(J),null,{default:t(()=>[m(c(e(u)("preferences.language")),1)]),_:1}),a(j,{class:"rounded-xl py-2",type:"select",options:z,modelValue:e(d),"onUpdate:modelValue":s[0]||(s[0]=g=>D(d)?d.value=g:null),style:{"padding-left":"1rem",outline:"none","background-image":"none",border:"solid 1px grey"}},null,8,["modelValue"])])]),_:1}),a(e(w),{class:"rounded-xl ion-margin-top text-white w-full hover:bg-red-800 bg-red-700",variant:"solid",theme:"red",size:"md",onClick:s[1]||(s[1]=g=>e(p).logout.submit())},{default:t(()=>[m(c(e(u)("auth.logout")),1)]),_:1})])):(i(),y("div",ee,[a(e(w),{class:"rounded-xl ion-margin-top text-white w-full hover:bg-red-800 bg-red-700",variant:"solid",theme:"red",size:"md",onClick:s[2]||(s[2]=g=>e(p).logout.submit())},{default:t(()=>[m(c(e(u)("auth.logout")),1)]),_:1})])),n("footer",ae,[s[3]||(s[3]=n("span",null,"ALZO Mobile App",-1)),n("span",null,"Version "+c(v.value),1)])])]),_:1})]),_:1})}}});export{ne as default};
//# sourceMappingURL=Account-BzIa5l69.js.map
