import{d as j,i as x,a as V,w as A,b as B,k as d,l as D,n as f,q as s,t,G as e,L as m,I as i,D as l,C as y,ay as L,A as $}from"./frappe-ui-6fMRsAZb.js";import{s as z,u as K,f as M,a as N,g as b,h as R,i as S,j as T,I as q,b as E}from"./index-CP_e6oHI.js";import{s as U}from"./devices-CF0Pxbgs.js";const G={class:"flex h-full flex-col justify-between"},H={key:0,class:"m-6 flex flex-col"},O={class:"flex items-center justify-center py-5"},P={class:"flex-col items-start justify-start ion-margin"},Z={key:1,class:"m-6 flex flex-col items-center"},F={class:"flex flex-col items-center justify-center p-4 text-center text-sm text-gray-500"},Y=j({__name:"Account",setup(J){const p=x(z),n=x(K),{call:v}=M(),g=V(null),h=async()=>{const u=await v.get("frappe.api.get_app_version");g.value=u.message},{t:o,locale:r}=N(),I=[{label:"English",value:"en"},{label:"ไทย",value:"th"}];A(r,u=>{localStorage.setItem("preferredLanguage",u)}),B(()=>{U(),w(),h()});const w=async()=>{n.data.first_name===""&&(await b.reload(),n.data=b.data)};return(u,a)=>{const k=d("Input"),C=d("Card"),_=d("Button");return f(),D(e(E),null,{default:s(()=>[t(e(R),null,{default:s(()=>[t(e(S),null,{default:s(()=>[t(e(T),{class:"ion-text-center"},{default:s(()=>[m(i(e(o)("account.my_account","My Account")),1)]),_:1})]),_:1})]),_:1}),t(e(q),{fullscreen:!0,"scroll-events":!0},{default:s(()=>[l("div",G,[e(n).data?(f(),y("div",H,[t(C,{class:"mb-4 rounded-xl"},{default:s(()=>[l("div",O,[t(e(L),{shape:"square",ref_for:!0,size:"xl",class:"bg-gray-200 h-24 w-24",image:`${e(n).data.user_image}?t=${Date.now()}`,label:e(n).data.full_name},null,8,["image","label"])]),l("div",P,[t(k,{class:"rounded-xl py-2",label:e(o)("preferences.language"),type:"select",options:I,modelValue:e(r),"onUpdate:modelValue":a[0]||(a[0]=c=>$(r)?r.value=c:null),style:{"padding-left":"1rem",outline:"none","background-image":"none",border:"solid 1px grey"}},null,8,["label","modelValue"])])]),_:1}),t(_,{class:"rounded-xl ion-margin-top text-white bg-red-600",variant:"solid",theme:"red",size:"md",onClick:a[1]||(a[1]=c=>e(p).logout.submit())},{default:s(()=>[m(i(e(o)("auth.logout")),1)]),_:1})])):(f(),y("div",Z,[t(_,{class:"rounded-2xl ion-margin-top text-white bg-red-600 w-full",variant:"solid",theme:"red",size:"md",onClick:a[2]||(a[2]=c=>e(p).logout.submit())},{default:s(()=>[m(i(e(o)("auth.logout")),1)]),_:1})])),l("footer",F,[a[3]||(a[3]=l("span",null,"ALZO Mobile App",-1)),l("span",null,"Version "+i(g.value),1)])])]),_:1})]),_:1})}}});export{Y as default};
//# sourceMappingURL=Account-4z3MUXzr.js.map
