import{s as L,u as z,h as B,a as D,i as x,j as T,k as $,l as E,I as N,c as H,m as h,n as K,_ as O,d as R}from"./index-D7vsvXlJ.js";import{d as U,i as y,a as b,b as q,w,j as g,k as c,l as o,n as a,q as e,P as m,H as i,D as n,C as k,al as J,z as P,U as M}from"./frappe-ui-CEOsh18x.js";import{s as Z}from"./devices-DAYGDfQU.js";const F="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M264 480A232 232 0 0 1 32 248c0-94 54-178.28 137.61-214.67a16 16 0 0 1 21.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0 1 21.06 21.06C442.28 426 358 480 264 480'/></svg>",G="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22M256 486a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22M369.14 164.86a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44M108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45M464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44M96 278H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44M403.08 425.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56M142.86 164.86a21.9 21.9 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55M256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102'/></svg>",Q={class:"flex h-full flex-col justify-between"},W={key:0,class:"m-6 flex flex-col"},X={class:"flex justify-end ion-margin"},Y={class:"flex items-center justify-center py-5"},ee={class:"flex-col items-start justify-start ion-margin"},te={key:1,class:"m-6 flex flex-col items-center"},ae={class:"flex flex-col items-center justify-center p-4 text-center text-sm text-gray-500"},re=U({__name:"Account",setup(se){const p=y(L),r=y(z),{call:I}=B(),v=b(null),C=async()=>{const l=await I.get("dma.api.get_app_version");v.value=l.message},s=b(window.matchMedia("(prefers-color-scheme: dark)").matches),{t:u,locale:d}=D(),j=[{label:"English",value:"en"},{label:"ไทย",value:"th"}],_=()=>{s.value=!s.value,document.documentElement.classList.toggle("ion-palette-dark",s.value),localStorage.setItem("darkMode",JSON.stringify(s.value))},V=()=>{const l=s.value?"#222428":"#f4f5f6";let t=document.querySelector('meta[name="theme-color"]');t||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.appendChild(t)),t.setAttribute("content",l)};q(()=>{Z(),A(),C();const l=localStorage.getItem("darkMode");l!==null&&(s.value=JSON.parse(l),document.documentElement.classList.toggle("ion-palette-dark",s.value))}),w(d,l=>{localStorage.setItem("preferredLanguage",l)}),w(s,()=>{V()});const A=async()=>{r.data.first_name===""&&(await x.reload(),r.data=x.data)};return(l,t)=>{const S=O;return c(),g(e(R),null,{default:o(()=>[a(e(T),null,{default:o(()=>[a(e($),null,{default:o(()=>[a(e(E),{class:"ion-text-center"},{default:o(()=>[m(i(e(u)("account.my_account","My Account")),1)]),_:1})]),_:1})]),_:1}),a(e(N),{fullscreen:!0,"scroll-events":!0},{default:o(()=>[n("div",Q,[e(r).data?(c(),k("div",W,[a(e(H),{class:"rounded-xl border-1 dark: border-zinc-500"},{default:o(()=>[n("div",X,[s.value?(c(),g(e(h),{key:0,class:"text-2xl cursor-pointer text-yellow-300",icon:e(F),onClick:_},null,8,["icon"])):(c(),g(e(h),{key:1,class:"text-2xl cursor-pointer text-amber-500",icon:e(G),onClick:_},null,8,["icon"]))]),n("div",Y,[a(e(J),{shape:"circle",ref_for:!0,size:"xl",class:"h-24 w-24 border-1 border-zinc-500",image:`${e(r).data.user_image}?t=${Date.now()}`,label:e(r).data.full_name},null,8,["image","label"])]),n("div",ee,[a(e(K),null,{default:o(()=>[m(i(e(u)("preferences.language")),1)]),_:1}),a(S,{class:"rounded-xl py-2",type:"select",options:j,modelValue:e(d),"onUpdate:modelValue":t[0]||(t[0]=f=>P(d)?d.value=f:null),style:{"padding-left":"1rem",outline:"none","background-image":"none",border:"solid 1px grey"}},null,8,["modelValue"])])]),_:1}),a(e(M),{class:"rounded-xl ion-margin-top text-white w-full hover:bg-red-800 bg-red-700",variant:"solid",theme:"red",size:"md",onClick:t[1]||(t[1]=f=>e(p).logout.submit())},{default:o(()=>[m(i(e(u)("auth.logout")),1)]),_:1})])):(c(),k("div",te,[a(e(M),{class:"rounded-xl ion-margin-top text-white w-full hover:bg-red-800 bg-red-700",variant:"solid",theme:"red",size:"md",onClick:t[2]||(t[2]=f=>e(p).logout.submit())},{default:o(()=>[m(i(e(u)("auth.logout")),1)]),_:1})])),n("footer",ae,[t[3]||(t[3]=n("span",null,"ALZO Mobile App",-1)),n("span",null,"Version "+i(v.value),1)])])]),_:1})]),_:1})}}});export{re as default};
//# sourceMappingURL=Account-VmevDFCK.js.map
